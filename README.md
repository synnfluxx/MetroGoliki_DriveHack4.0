# üöá DriveHack - –ú–µ—Ç—Ä–æ—à–∞

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —á–∞—Ç-–±–æ—Ç –¥–ª—è –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –ú–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞ –∏ –æ–∑–≤—É—á–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üí¨ **–¢–µ–∫—Å—Ç–æ–≤—ã–π —á–∞—Ç** —Å GigaChat AI
- üé§ **–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥** —á–µ—Ä–µ–∑ Salute STT
- üîä **–û–∑–≤—É—á–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤** —á–µ—Ä–µ–∑ Salute TTS
- üé® **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI** —Å —Ç–µ–º–Ω–æ–π/—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–æ–π
- üîÑ **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** Salute API
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω**
- üîç **–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π** —Å TF-IDF –ø–æ–∏—Å–∫–æ–º –ø–æ sop.mosmetro.ru

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
git clone <repository>
cd DriveHack
go mod download
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ `.env`:
```env
GIGACHAT_API_KEY=–≤–∞—à_–∫–ª—é—á_gigachat
SALUTE_API_KEY=–≤–∞—à_authorization_key_salute
SERVER_PORT=8080
SSL_VERIFY=false
KNOWLEDGE_BASE_FILE=data/chunks.json
```

### 3. –ó–∞–ø—É—Å–∫

```bash
./RUN.sh
```

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8080

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**Backend:**
- Go 1.21+
- Gin Web Framework
- GigaChat API
- Salute Speech API
- TF-IDF Search (custom implementation)

**Frontend:**
- Vanilla JavaScript
- MediaRecorder API
- Web Audio API
- Marked.js (Markdown)

## üìã API Endpoints

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/` | GET | –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å |
| `/api/chat` | POST | –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è |
| `/api/tts` | POST | –°–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏ |
| `/api/stt` | POST | –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ |

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|-----------|----------|--------------|
| `GIGACHAT_API_KEY` | API –∫–ª—é—á GigaChat | *–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ* |
| `SALUTE_API_KEY` | Authorization Key Salute | *–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ* |
| `SERVER_PORT` | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ | `8080` |
| `SERVER_HOST` | –•–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞ | `localhost` |
| `SSL_VERIFY` | –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL | `true` |
| `SALUTE_VOICE` | –ì–æ–ª–æ—Å –¥–ª—è TTS | `Nec_24000` |
| `ENVIRONMENT` | –û–∫—Ä—É–∂–µ–Ω–∏–µ | `development` |

## üéôÔ∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ –≥–æ–ª–æ—Å–∞

- `Nec_24000` - –ù–∞—Ç–∞–ª—å—è (–∂–µ–Ω—Å–∫–∏–π)
- `Bys_24000` - –ë–æ—Ä–∏—Å (–º—É–∂—Å–∫–æ–π)
- `May_24000` - –ú–∞—Ä—Ñ–∞ (–∂–µ–Ω—Å–∫–∏–π)
- `Tur_24000` - –¢–∞—Ä–∞—Å (–º—É–∂—Å–∫–æ–π)
- `Ost_24000` - –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ (–∂–µ–Ω—Å–∫–∏–π)

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –°–±–æ—Ä–∫–∞
go build -o bin/drivehack cmd/service/main.go

# –ó–∞–ø—É—Å–∫
./bin/drivehack

# –¢–µ—Å—Ç—ã
go test ./...
```

## üêõ Troubleshooting

### TTS –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `SALUTE_API_KEY` –≤ `.env`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Authorization Key, –∞ –Ω–µ Access Token
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

### GigaChat –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `GIGACHAT_API_KEY`
- –î–ª—è development: `SSL_VERIFY=false`

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç
```bash
lsof -i :8080
kill -9 <PID>
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üë• –ê–≤—Ç–æ—Ä—ã

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö —Ö–∞–∫–∞—Ç–æ–Ω–∞ DriveHack4.0
